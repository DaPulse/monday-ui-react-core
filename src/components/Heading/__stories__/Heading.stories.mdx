import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { createStoryMetaSettingsDecorator, Tip, AlphaWarning } from "../../../storybook";
import Flex from "../../Flex/Flex";
import { createComponentTemplate } from "vibe-storybook-components";
import Title from "../Title";
import { OVERFLOW_TITLE_CONTAINER_ID, ONE_LINE_ELLIPSIS_TEST_ID } from "../__tests__/title-tests-constants";
import styles from "./Title.stories.module.scss";
import { titleOverflowSuite } from "../__tests__/Title.interactions";

export const metaSettings = createStoryMetaSettingsDecorator({
  component: Title,
  iconPropNamesArray: [], // List props that are typed as icons here
  actionPropsArray: [] // List the component's actions here
});

<Meta title="Text/Heading" component={Title} argTypes={metaSettings.argTypes} decorators={metaSettings.decorators} />

<!--- Component template -->

export const textTemplate = createComponentTemplate(Title);

# Heading

<AlphaWarning />

<!--- Component documentation -->

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)
- [Do’s and don’ts](#dos-and-donts)
- [Use cases and examples](#use-cases-and-examples)
- [Related components](#related-components)
- [Feedback](#feedback)

## Overview

Heading components are used for titles at the top of pages and sub-sections.

<Canvas>
  <Story name="Overview" args={{ children: "Title" }}>
    {textTemplate.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable story="Overview" />

## Usage

<UsageGuidelines
  guidelines={[
    "Never include more than one H1 title per web page.",
    "Heading always should be linked to content (by design and by implementation by passing the heading id to the content's aria-labelledBy attribute)."
  ]}
/>

<Tip title="Not what you were looking for?">
  Please check out our{" "}
  <Link href="/?path=/docs/inputs-editableheading--overview" withoutSpacing>
    EditableHeading
  </Link>{" "}
  component if you would like to allow users to edit the title text..
</Tip>

## Variants

### Types and weights

Heading component comes in three types: H1 (32px), H2 (24px), H3 (18px) and three weights: bold (700), normal (500), light (300)

<Canvas>
  <Story name="Types and weights">
    <Flex
      gap={Flex.gaps.SMALL}
      direction={Flex.directions.COLUMN}
      justify={Flex.justify.START}
      align={Flex.align.START}
    >
      <Title type={Title.types.H1} weight={Title.weights.BOLD}>
        Bold H1 title
      </Title>
      <Title type={Title.types.H1} weight="normal">
        Normal H1 title
      </Title>
      <Title type={Title.types.H1} weight={Title.weights.LIGHT}>
        Light H1 title
      </Title>
      <Title type={Title.types.H2} weight={Title.weights.BOLD}>
        Bold H2 title
      </Title>
      <Title type={Title.types.H2} weight={Title.weights.NORMAL}>
        Normal H2 title
      </Title>
      <Title type={Title.types.H2} weight={Title.weights.LIGHT}>
        Light H2 title
      </Title>
      <Title type={Title.types.H3} weight={Title.weights.BOLD}>
        Bold H3 title
      </Title>
      <Title type={Title.types.H3} weight={Title.weights.NORMAL}>
        Normal H3 title
      </Title>
      <Title type={Title.types.H3} weight={Title.weights.LIGHT}>
        Light H3 title
      </Title>
    </Flex>
  </Story>
</Canvas>

### Colors

Heading component comes in four colors: primary, secondary, on primary, on inverted

<Canvas>
  <Story name="Colors">
    <Flex direction={Flex.directions.COLUMN} align={Flex.align.START} gap={Flex.gaps.SMALL}>
      <Title color={Title.colors.PRIMARY}>Primary title</Title>
      <Title color={Title.colors.SECONDARY}>Secondary title</Title>
      <Title
        element="div"
        className={styles.primaryBackground}
        align={Title.align.CENTER}
        color={Title.colors.ON_PRIMARY}
      >
        On primary title
      </Title>
      <Title
        element="div"
        className={styles.invertedBackground}
        align={Title.align.CENTER}
        color={Title.colors.ON_INVERTED}
      >
        On inverted title
      </Title>
    </Flex>
  </Story>
</Canvas>

### Overflow

Our Heading component supports overflow state.
When the text is longer than its container and the ellipsis flag is on, the end of the text will be truncated and will display "..."

<Canvas>
  <Story name="Overflow" play={titleOverflowSuite}>
    <Flex
      id={OVERFLOW_TITLE_CONTAINER_ID}
      direction={Flex.directions.COLUMN}
      gap={Flex.gaps.MEDIUM}
      align={Flex.align.STRETCH}
      style={{ width: "70%" }}
    >
      <Title ellipsis={false}>
        Title without overflow title without overflow title without overflow title without overflow title without
        overflow title without overflow title without overflow
      </Title>
      <Title
        ellipsis
        /**for testing purposes**/
        data-testid={ONE_LINE_ELLIPSIS_TEST_ID}
        tooltipProps={{
          containerSelector: `#${OVERFLOW_TITLE_CONTAINER_ID}`
        }}
      >
        Title with overflow title with overflow title with overflow title with overflow title with overflow title with
        overflow title with overflow title with overflow title with overflow title with overflow
      </Title>
      <div>
        <Title ellipsis withoutTooltip maxLines={2}>
          Title with overflow title with overflow title with overflow title with overflow title with overflow title with
          overflow title with overflow title with overflow title with overflow title with overflow title with overflow
          title with overflow title with overflow title with overflow title with overflow title with overflow
        </Title>
      </div>
    </Flex>
  </Story>
</Canvas>

## Do’s and Don’ts

<ComponentRules
  rules={[
    {
      positive: {
        component: <Heading value="Hello world" />,
        description: "Always capitalize the first letter of the first word in the heading."
      },
      negative: {
        component: <Heading value="Hello World" />,
        description: "Please avoid capitalizing the first letter of each word in the heading."
      }
    }
  ]}
/>

## Related components

<RelatedComponents componentsNames={[]} />
