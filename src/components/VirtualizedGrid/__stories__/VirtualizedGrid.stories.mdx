import { useCallback, useMemo } from "react";
import VirtualizedGrid from "../VirtualizedGrid";
import Button from "../../Button/Button";
import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { createComponentTemplate } from "../../../storybook/functions/create-component-story";
import { generateItems, itemRenderer } from "./VirtualizedGrid.stories";

<Meta title="Navigation/VirtualizedGrid" component={VirtualizedGrid} />

<!--- Component template -->

export const virtualizedGridTemplate = args => {
  const getColumnWidth = useCallback(() => {
    return 100;
  }, []);
  const getRowHeight = useCallback(() => {
    return 50;
  }, []);
  const items = useMemo(() => {
    return generateItems(50, 100, 100);
  }, []);
  return (
    <div style={args.wrapperStyle}>
      <VirtualizedGrid
        items={items}
        itemRenderer={itemRenderer}
        getColumnWidth={getColumnWidth}
        getRowHeight={getRowHeight}
        scrollDuration={args.scrollDuration}
      />
    </div>
  );
};

<!--- Component documentation -->

# VirtualizedGrid

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Feedback](#feedback)

## Overview

VirtualizedGrid is a component which only renders visible grid items, it is a logic component and doesn't change and look and feel

Under the hood we are using - [react-window](https://github.com/bvaughn/react-window) and [react-virtualized-auto-sizer](https://github.com/bvaughn/react-virtualized-auto-sizer)

<Canvas>
  <Story
    name="Overview"
    args={{
      scrollDuration: 200,
      wrapperStyle: {
        width: 430,
        height: 300,
        overflow: "hidden",
        display: "flex",
        alignItems: "center"
      }
    }}
  >
    {virtualizedGridTemplate.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable of={VirtualizedGrid} />

## Usage

<UsageGuidelines
  guidelines={[
    "Use this component to implement a grid with many items or when each item render has heavy calculations.",
    "Rendering only the visible grid items instead of all the grid's items will create better performance and a smoother experience for users while using the grid."
  ]}
/>
