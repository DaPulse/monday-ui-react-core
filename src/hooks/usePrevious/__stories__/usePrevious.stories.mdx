import { useState } from "react";
import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import usePrevious from "../index";
import UsePrevious from "./hooksDummyComponents/UsePrevious";
import Button from "components/Button/Button";
import { Counter } from "components";
import Flex from "components/Flex/Flex";
import "./usePrevious.stories.scss";

<Meta title="Hooks/usePrevious" component={UsePrevious} />

# usePrevious

- [Overview](#overview)
- [Arguments](#arguments)
- [Feedback](#feedback)

## Overview

Hook for keeping previous state value.

<Canvas>
  <Story name="Overview">
    {() => {
      const [count, setCount] = useState(1);
      const prevCount = usePrevious(count);
      const incrementButtonOnClick = () => {
        setCount(prevCount => prevCount + 1);
      };
      return (
        <div>
          <Flex className="use-previous-counter-container" direction={Flex.directions.COLUMN}>
            <div className="use-previous-counter-label">Current</div>
            <Counter count={count} ariaLabeledBy="currentCounterLabel" />
          </Flex>
          <Flex className="use-previous-counter-container" direction={Flex.directions.COLUMN}>
            <div className="use-previous-counter-label">Previous</div>
            <Counter count={prevCount} ariaLabeledBy="previousCounterLabel" />
          </Flex>
          <Button onClick={incrementButtonOnClick}>Increment</Button>
        </div>
      );
    }}
  </Story>
</Canvas>

## Arguments

<ArgsTable of={UsePrevious} />
