import { useRef, useCallback, useState } from "react";
import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import useEventListener from "..";
import DummyComponent from "./DummyComponent";
import "../../__stories__/general-hooks-stories.scss";

<Meta title="Hooks/useEventListener" component={DummyComponent} />

# useEventListener

- [Overview](#overview)
- [Arguments](#arguments)
- [Feedback](#feedback)

## Overview

This hooks helps you listen to any DOM event on a specific element (ref), it will add and remove the listener according to the mount/unmount phase.

<Canvas>
  <Story name="Overview">
    {() => {
      const ref = useRef(null);
      const [hovered, setHovered] = useState(false);
      const callback = useCallback(
        e => {
          setHovered(true);
        },
        [setHovered]
      );
      useEventListener({ ref, callback, eventName: "mouseenter" });
      return (
        <div ref={ref} className="hooks-reference-element">
          Hoover me {hovered ? "Boom!" : undefined}
        </div>
      );
    }}
  </Story>
</Canvas>

## Arguments

<ArgsTable of={DummyComponent} />
